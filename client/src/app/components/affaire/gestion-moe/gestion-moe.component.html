<div class="container-fluid">
  <h4>Num Affaire : {{client.affaire}}</h4>
  <h4>Client: {{client.nom}} {{client.prenom}}</h4>

  <!-- 
select à 2 colonnes ?
ajouter modal pour sécuriser la suppression d'artisan à l'affaire => problème si suppr et remet : perte des données 
==> Solution ?
-->
  <div class="container">
    <div class="col-sm-5">
      <h3>Artisans lié à l'affaire</h3>
      <select multiple class="form-control" size="8">
        <option (click)="selectArtisanToRemove(clientArtisan)" *ngFor="let clientArtisan of clientArtisansList | async">{{clientArtisan.corps_metier}} {{clientArtisan.nom_societe}}</option>
      </select>

      <!-- <table class="table table-striped">
      <thead>
        <th>Corps de métier</th>
        <th>Société</th>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Supprimer de l'affaire</th>
      </thead>
      <tbody>
        <tr *ngFor="let clientArtisan of clientArtisansList | async">
          <td>{{clientArtisan.corps_metier}}</td>
          <td>{{clientArtisan.nom_societe}}</td>
          <td>{{clientArtisan.nom}}</td>
          <td>{{clientArtisan.prenom}}</td>
        </tr>
      </tbody>
    </table> -->
    </div>

    <div class="col-sm-2 select-btn btn-group-vertical">
      <button (click)="removeArtisanToAffaire()" class="btn btn-default">
        <span class="glyphicon glyphicon-chevron-right"></span>
      </button>
      <button (click)="addArtisanToAffaire()" class="btn btn-default">
        <span class="glyphicon glyphicon-chevron-left"></span>
      </button>
      <button data-toggle="modal" data-target="#myModal" class="btn btn-success">Sauvegarder</button>
    </div>

    <div class="col-sm-5">
      <h3>Liste d'artisan enregistré</h3>
      <select multiple class="form-control" size="8">
        <option (click)="selectArtisanToAdd(artisan)" *ngFor="let artisan of artisansList | async">{{artisan.corps_metier}} {{artisan.nom_societe}}</option>
      </select>

      <!--  <table class="table table-striped">
      <thead>
        <th>Corps de métier</th>
        <th>Société</th>
        <th>Nom</th>
        <th>Prénom</th>
      </thead>
      <tbody>
        <tr *ngFor="let artisan of artisansList | async">
          <td>{{artisan.corps_metier}}</td>
          <td>{{artisan.nom_societe}}</td>
          <td>{{artisan.nom}}</td>
          <td>{{artisan.prenom}}</td>
        </tr>
      </tbody>
    </table> -->

      <a class="btn btn-default" routerLink="artisans">Ajouter un Artisan</a>
    </div>
  </div>
</div>

<!-- Confirm delete Modal -->
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <form #modalForm="ngForm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Confirmer modifications</h4>
        </div>
        <div class="modal-body">
          <p>Etes-vous sûr de vouloir continuer ?
            <br /> La suppression d'un artisan entraînera la perte des données pour cet artisan.</p>
          <div *ngIf="historique">
            <label for="descriptionModif">Description :</label>
            <input type="text" name="descriptionModif" id="descriptionModif" class="form-control" placeholder="Expliquer la modification"
              [(ngModel)]="descriptionModif" required />
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-danger" [disabled]="!modalForm.form.valid" (click)="sauverModifications()" data-dismiss="modal">Confirmer</button>
          <button class="btn btn-default" data-dismiss="modal">Annuler</button>
        </div>
      </div>
    </form>
  </div>
</div>